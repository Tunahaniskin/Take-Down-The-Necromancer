<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Sprite Animasyon Denemesi</title>
  <style>
    body {
      background-color: #b05454;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    canvas {
      border: 2px solid #fff;
      image-rendering: pixelated; /* net pixel art görüntüsü */
      background-color: #333;
    }

  </style>
</head>
<body>

<canvas id="gameCanvas" width="535" height="384"></canvas>

<script>
  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");

  const spriteSheet = new Image();
  spriteSheet.src = "walk.png"; // sprite sheet dosyan buraya yüklü olacak

  const frameWidth = 256;   // her karenin genişliği
  const frameHeight = 256;  // her karenin yüksekliği
  const frameCount = 4;     // toplam kare sayısı
  let currentFrame = 0;     // şu anki kare
  let lastFrameTime = 0;
  const frameDuration = 250; // her karede kalma süresi (ms)

  const posX = 0; // karakterin canvas üzerindeki konumu
  const posY = 0;

  function draw(timestamp) {
    // zamanı kontrol et, yeni kareye geç
    if (timestamp - lastFrameTime > frameDuration) {
      currentFrame = (currentFrame + 1) % frameCount;
      lastFrameTime = timestamp;
    }

    // arka planı temizle
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // animasyon karesini sprite sheet'ten çiz
    ctx.drawImage(
      spriteSheet,
      currentFrame * frameWidth, 0,       // kaynak x, y
      frameWidth, frameHeight,            // kaynak genişlik, yükseklik
      posX, posY,                         // hedef x, y
      256,256         // hedef genişlik, yükseklik
    );

    requestAnimationFrame(draw);
  }

  // resim yüklendikten sonra animasyonu başlat
  spriteSheet.onload = () => {
    requestAnimationFrame(draw);
  };
</script>

</body>
</html>
